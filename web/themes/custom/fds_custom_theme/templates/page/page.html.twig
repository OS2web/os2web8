<header>
  <div class="custom-header custom-header--static">
    <div class="custom-header__inner">
      <div class="container-fluid">
        <div class="flexy-row">

          <!-- Begin - logo -->
          <a href="{{ url('<front>') }}" class="custom-header__logo">
            <img src="{{ base_path ~ directory }}/dist/images/logo.svg" alt="Logo" />
          </a>
          <!-- End - logo -->

          {% include '@fds_custom_theme/includes/action-buttons.html.twig' %}

          <div class="flexy-spacer"></div>

          <!-- Begin - toggle -->
          <button
            class="custom-header__button custom-header__button--toggle-megamenu js-toggle-megamenu">
            <span class="icon fa fa-bars"></span>
          </button>
          <!-- End - toggle -->

        </div>
      </div>
    </div>
  </div>

  <div class="custom-header custom-header--fixed">
    <div class="custom-header__inner">
      <div class="container-fluid">
        <div class="flexy-row">

          <!-- Begin - logo -->
          <a href="{{ url('<front>') }}" class="custom-header__logo">
            <img src="{{ base_path ~ directory }}/dist/images/logo.svg" alt="Logo" />
          </a>
          <!-- End - logo -->

          <div class="flexy-spacer"></div>

          <!-- Begin - toggle search -->
          <button
            class="custom-header__button custom-header__button--toggle-search js-toggle-search">
            <span class="icon fa fa-search"></span>
          </button>
          <!-- End - toggle search -->

          <!-- Begin - toggle megamenu -->
          <button
            class="custom-header__button custom-header__button--toggle-megamenu js-toggle-megamenu">
            <img src="{{ base_path ~ directory }}/dist/images/burger-menu.svg">
          </button>
          <!-- End - toggle megamenu -->

        </div>
      </div>
    </div>
  </div>
</header>

{{ page.featured_top }}

<div class="container page-container">
  <div class="row">
    <div class="col-12">
      {{ page.breadcrumb }}
    </div>
  </div>
  <div class="row">
    {#  Wayaround for determining visibility for regions with lazybuilder.
    @See https://www.drupal.org/project/drupal/issues/953034 for more info. #}
    {% set has_sidebar_first = page.sidebar_first|render|striptags|trim is not empty %}
    {% set has_sidebar_second = page.sidebar_second|render|striptags|trim is not empty %}
    {% if has_sidebar_first %}
      {% set sidebar_first_classes = [
        has_sidebar_first and has_sidebar_second ? 'col-12 col-md-3',
        has_sidebar_first and has_sidebar_second is empty ? 'col-12 col-md-4',
      ] %}
      <aside {{ attributes.addClass(sidebar_first_classes) }}>
        {{ page.sidebar_first }}
      </aside>
    {% endif %}

    {% set content_classes = [
      has_sidebar_first and has_sidebar_second ? 'col-12 col-md-6',
      has_sidebar_first and has_sidebar_second is empty ? 'col-12 col-md-8',
      has_sidebar_second and has_sidebar_first is empty ? 'col-12 col-md-8',
      has_sidebar_first is empty and has_sidebar_second is empty ? 'col-12 col-md-12'
    ] %}
    <main {{ content_attributes.addClass(content_classes) }}>
      {{ page.content }}
    </main>

    {% if has_sidebar_second %}
      {% set sidebar_second_classes = [
        has_sidebar_first and has_sidebar_second ? 'col-12 col-md-3',
        has_sidebar_first is empty and has_sidebar_second ? 'col-12 col-md-4',
      ] %}
      <aside {{ attributes.addClass(sidebar_second_classes) }}>
        {{ page.sidebar_second }}
      </aside>
    {% endif %}

  </div>
</div>

{{ page.featured_bottom_first }}

{% include '@fds_custom_theme/includes/footer.html.twig' %}
